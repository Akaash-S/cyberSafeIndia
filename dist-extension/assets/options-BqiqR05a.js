import{c as l,a as L,j as e,A,u as R,r as m,z as a,S as y,E as _}from"./index-GY4kpPnW.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],$=l("bell",I);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],T=l("download",O);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],H=l("log-out",P);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],B=l("trash-2",W);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],V=l("user",F),z=()=>{const{user:n,loading:j}=R(),[o,g]=m.useState({autoScan:!0,blockMalicious:!0,showWarnings:!0,notifications:!0,theme:"light",indicatorPosition:"top-right"}),[d,f]=m.useState({total:0,safe:0,threats:0,extensionUptime:0}),[v,N]=m.useState("");m.useEffect(()=>{w(),u(),S(),k()},[]);const w=async()=>{try{const t=await chrome.storage.sync.get(["autoScan","blockMalicious","showWarnings","notifications","theme","indicatorPosition"]);g({autoScan:t.autoScan??!0,blockMalicious:t.blockMalicious??!0,showWarnings:t.showWarnings??!0,notifications:t.notifications??!0,theme:t.theme||"light",indicatorPosition:t.indicatorPosition||"top-right"})}catch(t){console.error("Error loading settings:",t),a.error("Failed to load settings")}},u=async()=>{try{const t=await chrome.storage.local.get(["dailyStats","extensionInstallDate"]),r=t.dailyStats||{total:0,safe:0,threats:0},s=t.extensionInstallDate||Date.now(),c=Math.floor((Date.now()-s)/(1e3*60*60*24));f({...r,extensionUptime:c})}catch(t){console.error("Error loading stats:",t)}},S=async()=>{try{await chrome.storage.local.get(["user","authToken"])}catch(t){console.error("Error loading user data:",t)}},k=()=>{const t=new Date;N(t.toLocaleDateString()+" "+t.toLocaleTimeString())},x=async(t,r)=>{try{const s={...o,[t]:r};g(s),await chrome.storage.sync.set({[t]:r}),a.success(`${t} ${r?"enabled":"disabled"}`)}catch(s){console.error(`Error saving ${t}:`,s),a.error("Failed to save setting"),g(o)}},D=()=>{chrome.tabs.create({url:"https://cybersafe-india.vercel.app/auth"})},M=async()=>{try{await chrome.storage.local.remove(["user","authToken"]),a.success("Signed out successfully")}catch(t){console.error("Error signing out:",t),a.error("Failed to sign out")}},E=async()=>{if(confirm("Are you sure you want to reset all statistics? This action cannot be undone."))try{await chrome.storage.local.set({dailyStats:{total:0,safe:0,threats:0},extensionInstallDate:Date.now()}),u(),a.success("Statistics reset successfully")}catch(t){console.error("Error resetting stats:",t),a.error("Failed to reset statistics")}},U=async()=>{try{const t=await chrome.storage.local.get(),s={settings:await chrome.storage.sync.get(),stats:t.dailyStats||{total:0,safe:0,threats:0},user:t.user||null,exportDate:new Date().toISOString(),version:"1.0.0"},c=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),p=URL.createObjectURL(c),i=document.createElement("a");i.href=p,i.download=`cybersafe-india-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(p),a.success("Data exported successfully")}catch(t){console.error("Error exporting data:",t),a.error("Failed to export data")}},C=()=>{chrome.tabs.create({url:"https://cybersafe-india.vercel.app/dashboard"})},h=({enabled:t,onChange:r,label:s,description:c})=>e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s}),c&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:c})]}),e.jsx("button",{onClick:()=>r(!t),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${t?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t?"translate-x-6":"translate-x-1"}`})})]});return j?e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):e.jsxs("div",{className:"w-full h-full bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(y,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"CyberSafe India"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Extension Settings"})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("button",{onClick:C,className:"flex items-center space-x-1 px-3 py-1.5 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 transition-colors",children:[e.jsx(_,{className:"w-4 h-4"}),e.jsx("span",{children:"Dashboard"})]})})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[e.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(V,{className:"w-5 h-5 mr-2"}),"Authentication"]}),n?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-medium",children:n.displayName?.charAt(0)||n.email?.charAt(0)||"U"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:n.displayName||"User"}),e.jsx("div",{className:"text-xs text-gray-500",children:n.email})]})]}),e.jsxs("button",{onClick:M,className:"flex items-center space-x-1 px-3 py-1.5 text-red-600 hover:text-red-800 text-sm transition-colors",children:[e.jsx(H,{className:"w-4 h-4"}),e.jsx("span",{children:"Sign Out"})]})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Sign in to sync your data across devices"}),e.jsx("button",{onClick:D,className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-700 transition-colors",children:"Sign In"})]})]}),e.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(y,{className:"w-5 h-5 mr-2"}),"Security Settings"]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(h,{enabled:o.autoScan,onChange:t=>x("autoScan",t),label:"Auto-scan pages",description:"Automatically scan pages when you visit them"}),e.jsx(h,{enabled:o.blockMalicious,onChange:t=>x("blockMalicious",t),label:"Block malicious URLs",description:"Prevent access to known malicious websites"}),e.jsx(h,{enabled:o.showWarnings,onChange:t=>x("showWarnings",t),label:"Show security warnings",description:"Display warnings for suspicious content"})]})]}),e.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx($,{className:"w-5 h-5 mr-2"}),"Notifications"]}),e.jsx(h,{enabled:o.notifications,onChange:t=>x("notifications",t),label:"Enable notifications",description:"Receive notifications for security alerts"})]}),e.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistics"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:d.total}),e.jsx("div",{className:"text-xs text-gray-500",children:"Total Scans"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.safe}),e.jsx("div",{className:"text-xs text-gray-500",children:"Safe URLs"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:d.threats}),e.jsx("div",{className:"text-xs text-gray-500",children:"Threats Blocked"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.extensionUptime}),e.jsx("div",{className:"text-xs text-gray-500",children:"Days Active"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:E,className:"flex items-center space-x-1 px-3 py-1.5 text-red-600 hover:text-red-800 text-sm transition-colors",children:[e.jsx(B,{className:"w-4 h-4"}),e.jsx("span",{children:"Reset Stats"})]}),e.jsxs("button",{onClick:U,className:"flex items-center space-x-1 px-3 py-1.5 text-blue-600 hover:text-blue-800 text-sm transition-colors",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsx("span",{children:"Export Data"})]})]})]}),e.jsx("div",{className:"bg-white px-6 py-4",children:e.jsxs("div",{className:"text-center text-xs text-gray-500",children:[e.jsxs("p",{children:["Last updated: ",v]}),e.jsxs("div",{className:"mt-2 space-x-4",children:[e.jsx("a",{href:"https://cybersafe-india.vercel.app/privacy",target:"_blank",rel:"noopener noreferrer",className:"hover:text-gray-700 transition-colors",children:"Privacy Policy"}),e.jsx("a",{href:"https://cybersafe-india.vercel.app/help",target:"_blank",rel:"noopener noreferrer",className:"hover:text-gray-700 transition-colors",children:"Help Center"})]})]})})]})]})},b=document.getElementById("options-root");b&&L.createRoot(b).render(e.jsx(A,{children:e.jsx(z,{})}));
